2022-09-08  Ronny Lindner <ronny.lindner@invia.de>

	* NEWS: NEWS for 2.40

	* Enhanced data validation to address YSA-2020-01.

	* Re-indent everything according to PEAR standard.

2016-11-01  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: NEWS for 2.39

2016-08-17  Klas Lindfors <klas@yubico.com>

	* doc/Generating_Clients.adoc: add a note about client
	synchronization fixes #42

2016-06-08  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: Bump versions.

2016-06-08  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: NEWS for 2.38

2016-06-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Silence php notice.  - cast curl handle to integer prior to using it as an array key.

2016-05-17  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: Bump versions.

2016-05-17  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: NEWS for 2.37

2016-05-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.

2016-05-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - unset temporary variable.

2016-05-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Fix.  - $request was never set if both $_POST and $_GET are empty!

2016-05-16  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: Bump versions.

2016-05-16  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: NEWS for 2.36

2016-05-09  Klas Lindfors <klali@avm.se>

	* : Merge pull request #39 from
	paulmenzel/grant-insert-and-update-rights-to-db-user-ykval_verifier doc/Installation: Grant insert and update rights to `ykval_verifier`

2016-04-29  Klas Lindfors <klas@yubico.com>

	* .travis.yml: add php 7.0 for travis

2016-04-29  Klas Lindfors <klas@yubico.com>

	* ykval-common.php, ykval-sync.php, ykval-verify.php: make
	getHttpVal() take the array to extract from refactor so verify early finds out which of $_GET and $_POST to use
	and then stick to using only that for the entire flow.  sync only works with GET anyways so use $_GET directly.

2016-04-29  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: use strtok() instead of explode() since we only
	care about first element

2016-04-29  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: use different syntax to caputer first element
	of explode() call apparently not supported in 5.3 to get first element directly

2016-04-29  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: rework re-sync to not use CURLOPT_PRIVATE relates #41

2016-04-19  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump version

2016-04-19  Klas Lindfors <klas@yubico.com>

	* NEWS: news for 2.35

2016-04-19  Klas Lindfors <klas@yubico.com>

	* Makefile: add ykval-log-verify.php to the install target

2016-04-19  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: Bump versions.

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: NEWS for 2.34

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log-verify.php, ykval-verify.php: Fix issue with $baseParam
	value.  - introduced recently in these log format changes.  - require_once 'ykval-config.php in logformat() 	did not import, because it takes place in ykval-verify.php.  - hence logformat() did not have $baseParams in scope, 	so we never write the log line.  - refactor and set format outside the class itself.

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-config.php, ykval-log-verify.php, ykval-verify.php: Add sl
	and timeout to request log variables.

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Make it clear that default will be a string
	digit.  - since getHttpVal casts to string anyway.

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid ambiguity with client id.  - getHttpVal always returns a string, 	so always treat $client as a string in other checks.

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-config.php, ykval-log-verify.php, ykval-verify.php: Add tls
	and protocol variables to request log.

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Rename variable.

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log-verify.php: Fix syntax errors introduced in previous
	commit.

2016-04-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-config.php, ykval-log-verify.php,
	ykval-log.php, ykval-verify.php: Add a verify request log line.  - Traditionally we wrote two lines for each ykval-verify.php call, 	'Request:' and 'Response:'.  - This commit allows us to log both request/response values in a
	single line.  - For backward compatibility, the old logging is kept in place.  - To write this line to syslog, __YKVAL_VERIFY_LOGFORMAT__ needs to
	be set.

2016-03-14  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: limit how many queued entries we get on each
	run if there's more than 1000 queued we will get another 1000 on the
	next run.

2016-03-07  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: put building syncurl in a function

2016-03-07  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: implement paralell syncing with curl_multi

2016-02-08  Paul Menzel <paul.menzel@giantmonkey.de>

	* doc/Installation.adoc: doc/Installation: Grant insert and update
	rights to ykval_verifier Currently, when following the installation instructions, the scripts
	adding clients to the database don’t work as the user
	`ykval_verifier` does not have any insert rights for the table
	`clients`.  ``` LOG_DEBUG:ykval-gen-clients:db:DB query is:SELECT id FROM
	clients ORDER BY id DESC LIMIT 1 LOG_DEBUG:ykval-gen-clients:db:DB
	query is: INSERT INTO clients
	(id,active,created,secret,email,notes,otp) VALUES ('1', '1',
	'1404359826','XXXXXXXXXXXXXXXXXXXXXXXX =','','','')
	LOG_INFO:ykval-gen-clients:db:Database query error: Array ( [0] =>
	42000 [1] => 1142 [2] => INSERT command denied to user
	'ykval_verifier'@'localhost' for table 'clients' )
	LOG_ERR:ykval-gen-clients:Failed to insert new client with query
	INSERT INTO clients (id,active,created,secret,email,notes,otp)
	VALUES ('1', '1',
	'1404359826’,’XXXXXXXXXXXXXXXXXXXXXXXX=','','','') Failed to
	insert new client with query INSERT INTO clients
	(id,active,created,secret,email,notes,otp) VALUES ('1', '1',
	'1404359826','XXXXXXXXXXXXXXXXXXXXXXXX =','','','')` ``` Therefore, update the documentation, to also grant the user
	`ykval_verifier` the rights to insert and update records into the
	table `clients`. No delete rights are granted, because there is an
	`active` column, which should probably used over deletion of
	clients.  Note, the original idea was probably to use two database users. One
	for inserting and updating data, and one for querying/validating it.
	As, nothing is written about this though, use the
	existing/recommended user for both things.  Fixes: #20 (ykval_verifier SQL user doesn't have permission to
	INSERT INTO clients, breaks ykval-gen-clients)

2016-02-05  Klas Lindfors <klali@avm.se>

	* : Merge pull request #38 from
	paulmenzel/improve-documentation-for-import-export-data Improve documentation for import export data

2016-02-04  Paul Menzel <paul.menzel@giantmonkey.de>

	* doc/Import_Export_Data.adoc: doc/Import_Export_Data: Remove
	trailing whitespace Run the command `StripWhitespace` from Vim Better Whitespace Plugin
	[1].  [1] https://github.com/ntpeters/vim-better-whitespace

2016-01-07  Klas Lindfors <klali@avm.se>

	* : Merge pull request #37 from
	paulmenzel/add-install-command-for-non-deb-distributions doc/Installation: Add install commands for non-Debian distributions

2016-01-05  Klas Lindfors <klali@avm.se>

	* : Merge pull request #36 from
	paulmenzel/improve-installation-documentation Improve installation documentation

2015-12-23  Paul Menzel <paul.menzel@giantmonkey.de>

	* doc/Installation.adoc: doc/Installation: Update Ubuntu
	recommendation to 14.04 LTS Ubuntu 12.04 LTS will be supported until April 2017, but Ubuntu
	14.04 LTS has been around long enough, so it’s well tested and
	probably more common to install than 12.04 LTS. It’s supported
	until April 2019 [1].  [1] https://wiki.ubuntu.com/Releases

2015-12-23  Paul Menzel <paul.menzel@giantmonkey.de>

	* doc/Installation.adoc: doc/Installation: Fix wording to *The
	following steps apply …*

2015-12-22  Klas Lindfors <klali@avm.se>

	* : Merge pull request #35 from

	paulmenzel/remove-trailing-whitespace-from-installation-documentationdoc/Installation: Remove trailing whitespace

2015-12-09  Jean Paul Galea <jp@galea.se>

	* : Merge pull request #33 from
	paulmenzel/fix-typo-in-comment-of-config-file ykval-config.php: Spell *addresses* correctly in comment

2015-12-08  Paul Menzel <paul.menzel@giantmonkey.de>

	* ykval-config.php: ykval-config.php: Use *ksm* instead of *kms* Avoid confusion and use the correct spelling for the three letter
	acronym KSM (Key Storage Module).

2015-12-08  Paul Menzel <paul.menzel@giantmonkey.de>

	* ykval-config.php: ykval-config.php: Spell *addresses* correctly in
	comment

2015-10-05  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: Bump versions.

2015-10-05  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: NEWS for 2.33

2015-09-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-config.php: Added localhost port 80 for ksm service.  - previously the default config only included port 80.  - this was changed in 382cfc2ab506a4c0f6ba0222d473ff3df77dd6f5, 	to avoid issues with yhsm-yubikey-ksm, which defaults to port 8002.  - however, this broke configurations running with yubikey-ksm, 	which defaults to port 80.  - a better approach is to have both projects using the same
		defaults, but for now we'll include both urls instead.  - the ksm decrypt requests happen asynchronously, 	so there should not be any performance degradation.  	(since either one of the urls will timeout)

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Drop some comments.  - not really helpful, better to just depend on what the code does.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid variable aliases.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - simplify and avoid using different arrays with same values.  - build $otpParams from $otpinfo as soon as we have ksm result, 	then unset $otpinfo.  - futher down, only use $otpParams and $localParams.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor and modify LOG_INFO message.  - as a result of this commit, 	key=val are separated with two spaces instead of one.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid variable aliases.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid variable aliases.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid variable aliases.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid variable aliases.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid variable aliases.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid variable aliases.

2015-09-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Avoid variable aliases.

2015-09-14  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: Bump versions.

2015-09-14  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: NEWS for 2.32

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php, ykval-verify.php: Modified log messages.  - avoid doing what is already handled by the Log class.  - the log name is appended automatically, 	so don't append it again in the invocation.  	i.e. "ykval-verify" - the log level name is also appended automatically, 	so don't append it manually, especially when it doesn't match the
		log priority! 	i.e. LOG_WARNING -> ":notice:" - fix whitespace in some messages.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Cosmetic.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Refactor.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Refactor.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Rename variable.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Rename variable.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Refactor.  - make it easier to follow, 	create prefix first, then suffix.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Refactor.  - build separate string from $extra array, 	and append it in syslog call.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Rename variable.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Refactor.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Refactor.  - init variables as class property, 	no need to init in construct.  - set scopes on private properties, 	and public methods.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - get rid of log_format() function.  - was only used in one place and it just complicates things.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Documentation.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Cosmetic.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - $urls is already checked prior to invoking function.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: Bump versions.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: Cosmetic fix.

2015-09-10  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: NEWS for 2.31

2015-09-09  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Fix bug.  - fix fatal error when an empty sync request is sent to the server.  - logging boilerplate must be initiated before we start validating
	the request.

2015-09-09  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Fix bug.  - argument to sprintf, not concat to first argument!

2015-09-09  Jean Paul Galea <jeanpaul@yubico.com>

	* Makefile, NEWS: Bump versions.

2015-09-09  Jean Paul Galea <jeanpaul@yubico.com>

	* NEWS: NEWS for 2.30

2015-09-09  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-vallatency.php: Fix.  - add newline for munin error message.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-queuelength.php, ykval-synclib.php: Refactor out
	function into library.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-queuelength.php: Rewrote ykval-munin-queuelength
	plugin.  - bring in line with ksm and val latency plugin.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php: Rewrite ykval-munin-ksmlatency plugin.  - same as 1e4da5dac66210a85cf0e3bee739a6839edeeb46, 	but for ksm latency plugin.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-munin-vallatency.php: Rewrite
	ykval-munin-vallatency plugin.  - avoid having to use the same internal and label name, 	as it's problematic.  - internal name has a lot of restrictions: 	s/^[^A-Za-z_]/_/ 	s/[^A-Za-z0-9_]/_/g - which doesn't allow us to show proper label names, 	the names that users will see.  - label displays :80 or :443 depending on scheme.  - avoid ugliness with shortname() and instead use endpoints().

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-queuelength.php: Cosmetic.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Use underscore instead of colon for host/port.  - munin plugin only supports a-zA-Z0-9_ so colon will probably give
	us problems.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-queuelength.php: Fix.  - import common, required for shortname function.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php, ykval-munin-queuelength.php,
	ykval-munin-vallatency.php: Add shortname failure checks for munin
	plugins.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-munin-ksmlatency.php,
	ykval-munin-queuelength.php, ykval-munin-vallatency.php: Rename
	function

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-queuelength.php: Modify ykval-munin-queuelength
	plugin.  - use host (and port if any) for graph title.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php, ykval-munin-vallatency.php: Use single
	quotes where possible.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php, ykval-munin-vallatency.php: Use echo
	in all munin php plugins.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-queuelength.php: Modify ykval-munin-queuelength
	plugin.  - don't auto configure if running a single node cluster.  	(i.e. no queues for sync requests to other servers).

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-queuelength.php: Refactor.  - move autoconf block lower down.  - will be taken advantage of in a newer commit.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php: Modify ykval-munin-ksmlatency.  - same as f2604e751abe43c2cec773194172ac90b9f89a98, 	except this is for KSM URLs.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php: Add FIXME marker.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-vallatency.php: Modify ykval-munin-vallatency plugin.  - don't auto configure if running a single node cluster.  	(i.e. no other servers to sync to).

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-munin-vallatency.php: Modify
	ykval-munin-vallatency plugin.  - use hostname (+ port if any) for graph name.  	i.e. if we have a sync URL: 		https://api.yubico.com:8080/wsapi/2.0/sync 	instead of having "api" as name, 		we have "api.yubico.com:8080".  - also avoid using regex and use parse_url() from php core instead.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php: Rename variable.  - $ksms => $urls - $ksm => $url - mainly to be closer to vallatency plugin.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-vallatency.php: Cosmetic.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php: Rename variable.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php, ykval-munin-vallatency.php: Use
	bracket guards for substitution.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-munin-vallatency.php: Drop half baked
	functionality in ykval-munin-vallatency.  - plugin assumed URL uses a hostname (no static ips) 	and that hostname resolves to both ipv4 and ipv6.  - if we want to differentiate stats between ipv4 and ipv6, 	we need to re-think this and do it in a smart way.  - for now we prefer to allow cURL to pick whatever IP it resolves, 	and run the latency test on that.  - signed off by Klas Lindfors.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-checksum-clients, ykval-checksum-deactivated, ykval-export,
	ykval-export-clients, ykval-gen-clients, ykval-import,
	ykval-import-clients, ykval-munin-ksmlatency.php,
	ykval-munin-queuelength.php, ykval-munin-vallatency.php,
	ykval-munin-yubikeystats.php, ykval-nagios-queuelength.php,
	ykval-queue: Refactor include paths.  - use PATH_SEPARATOR everywhere, 	instead of a mix of PATH_SEPARATOR and hard coded colons.  - always include /usr/share/yubikey-val first, 	then /etc/yubico/val.  - should not have any visible affects, 	since no file names are common between the two directories.  - use array+implode to make it easier to add/remove paths, 	and to avoid hardcoded the path separator.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-yubikeystats.php: Refactor.  - string substitution rather than concatenation.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php: Refactor ykval-munin-ksmlatency
	plugin.  - depend on libcurl instead of curl binary.  - due to this commit, 	requests sent to KSM URLs will contain a User-Agent header.

2015-09-08  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-munin-vallatency.php: Move function into
	ykval-common.php

2015-09-07  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-vallatency.php: Refactor.  - don't depend on external binaries, 	it assumes too much and is dangerous.  - we can depend on libcurl instead, 	since it's already a dependency in core.  - we should do this for other plugins too, 	and move the new function into ykval-common.php - plugin reports same exact values as before.

2015-09-07  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-munin-ksmlatency.php, ykval-munin-queuelength.php,
	ykval-munin-vallatency.php, ykval-munin-yubikeystats.php: Cosmetic
	changes.  - refactor whitespace for munin plugins written in php.  - change spaces into tabs and fix brackets mostly.

2015-08-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-queue: Modify ykval-queue daemon.  - don't run ykval-queue for single node configurations.

2015-08-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-db-pdo.php: Refactor.  - remove unnecessary else {} wrapper.

2015-08-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-db-pdo.php: Cosmetic changes.  - make it easier to understand query construction.

2015-08-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Don't set a default value for reSync argument.  - reSync() is only called in ykval-queue, 	and that sets an $older_than argument.  - additionally, the defaults did not match.  - the value in ykval-queue (via ykval-config) is 10 seconds, 	and the value in reSync($older_than=) was 60 seconds.  - no functional change, just makes things less confusing.

2015-08-12  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: FIXME marker.

2015-08-12  Jean Paul Galea <jeanpaul@yubico.com>

	* travis/server.pl: Fix failing tests.  - bug introduced in 382cfc2ab506a4c0f6ba0222d473ff3df77dd6f5.  - travis perl server test should use port 8002 to simulate ksm
	server.

2015-07-28  Jean Paul Galea <jp@galea.se>

	* ykval-queue: FIXME markers.

2015-07-28  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Modify default KSM URL.  - our ksm daemon listens on port 8002 by default, 	so ykval should also have the same default.

2015-07-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Fix.  - fix bug introduced in 6181abee14aacca55e81f8d051b2ed0d2002eefa.  - essentially, strftime() uses different format than date()

2015-07-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - avoid unnecessary strtotime() call.  - instead of: 		strtotime(date('Y-m-d H:i:s', $timestamp)) 	use: 		$timestamp 	since: 		$timestamp === strtotime(date('Y-m-d H:i:s', $timestamp))

2015-07-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - strftime -> date.  - strftime is same as date, but with locales.  - date format doesn't output names (January, March, etc.), 	so locale doesn't matter.  - also, would we really want locale in logs?

2015-07-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Modify log write.  - Log::log() internally support array implode, 	so no need to duplicate functionality.  - however, the internal implode uses two consecutive spaces as
		separator, so this will change the log format slightly.  	e.g. "delta=x now=y" becomes "delta=x  now=y"

2015-07-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.

2015-07-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.

2015-07-24  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.

2015-07-22  Jean Paul Galea <jp@galea.se>

	* ykval-common.php: Refactor.  - rename $curlopts -> $opts.

2015-07-22  Jean Paul Galea <jp@galea.se>

	* ykval-common.php: Refactor.

2015-07-22  Jean Paul Galea <jp@galea.se>

	* ykval-common.php: Refactor.  - rename $handle -> $ch.

2015-07-22  Jean Paul Galea <jp@galea.se>

	* ykval-common.php: Refactor.

2015-07-22  Jean Paul Galea <jp@galea.se>

	* ykval-common.php: Cosmetic changes.

2015-07-22  Jean Paul Galea <jp@galea.se>

	* ykval-common.php: Cosmetic changes.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: FIXME markers.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Cosmetic changes.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-common.php: Refactor.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Better grouping.  - same as 1e799aa6e57dffcb7baeb130919180bef22ea085.  - group $timeout filtering and validation.  - this commit might change replies sent to clients, 	since the validation check is done eaerlier now, 	and we might return S_MISSING_PARAM before S_BAD_OTP for example.  - this should really not cause any issues though, 	the order of which error is raised first should not matter to
		clients.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Better grouping.  - group $sl filtering and validation.  - this commit might change replies sent to clients, 	since the validation check is done eaerlier now, 	and we might return S_MISSING_PARAM before S_BAD_OTP for example.  - this should really not cause any issues though, 	the order of which error is raised first should not matter to
		clients.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor and unset after use.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.  - single quotes.  - unset after use.  - don't wrap.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Cosmetic changes.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.  - only add nonce to $extra array after check.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.  - $new_otp not used afterwards, 	clean up to avoid reuse by mistake.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Better grouping.  - no functional affect whatsoever.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: More robust https check.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.  - avoid using $_SERVER vars in "core", 	helps when debugging or running via cli.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-common.php: Refactor sign function.  - this commit might affect LOG_DEBUG message,     since now we log utf8_encode($qs) not $qs.  - this is probably what we want though,     since we run hash_hmac on the latter.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Unwrap else block.  - sendResp calls exit()

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: More minor fixes.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.  - $apiKey is initiliased further down.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: Refactor.  - str substitution rather than concat.  - cosmetic changes.

2015-07-21  Jean Paul Galea <jp@galea.se>

	* ykval-verify.php: double -> single quotes.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* COPYING, Makefile, ykval-checksum-clients,
	ykval-checksum-clients.1, ykval-checksum-deactivated,
	ykval-checksum-deactivated.1, ykval-common.php, ykval-config.php,
	ykval-db-oci.php, ykval-db-pdo.php, ykval-db.php, ykval-export,
	ykval-export-clients, ykval-export-clients.1, ykval-export.1,
	ykval-gen-clients.1, ykval-import, ykval-import-clients,
	ykval-import-clients.1, ykval-import.1, ykval-log.php,
	ykval-munin-ksmlatency.php, ykval-munin-ksmresponses.pl,
	ykval-munin-queuelength.php, ykval-munin-responses.pl,
	ykval-munin-vallatency.php, ykval-munin-yubikeystats.php,
	ykval-nagios-queuelength.php, ykval-ping.php, ykval-queue,
	ykval-queue.1, ykval-resync.php, ykval-revoke.php, ykval-sync.php,
	ykval-synchronize, ykval-synchronize.1, ykval-synclib.php,
	ykval-verify.php: Update copyright year.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Add FIXME markers.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-synclib.php: Refactor.  - negate test and return early.  - avoid wrapping whole function in `if () { }`.  - move $condition below $arr, 	since $arr is passwed first, then $condition, to
		conditionalUpdateBy().

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-synclib.php: Refactor.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Improve documentation.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Refactor database configuration.  - don't repeat config-db.php file path - add @is_readable, 	we might not have the proper permissions.  - use 'require_once' instead of 'include', 	this file should only be included once and we 	should fail dramatically if we can't load it.  - better documentation.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Cosmetic changes.  \# -> //

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Cosmetic changes.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Move comment where applicable.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Cosmetic changes.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Remove unused variables.  - will add db host/port later, currently they are ignored even if
	configured.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-checksum-clients.1, ykval-checksum-deactivated.1,
	ykval-export-clients.1, ykval-export.1, ykval-gen-clients.1,
	ykval-import-clients.1, ykval-import.1, ykval-nagios-queuelength.1,
	ykval-queue.1, ykval-synchronize.1: Use TLS for man page
	www.yubico.com links.

2015-07-20  Jean Paul Galea <jp@galea.se>

	* ykval-config.php: Use TLS in ykval-config.php examples

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor counter logic.  - break up into multiple if comparisons.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-ping.php: Single quotes.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Added helper comments.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.  - method grouping.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Change scope on private methods.  - mainly to help refactor, 	and avoid grep'ing globally.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - getClientData() returns array or bool false on failure.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Set scopes on methods.  - confirmed to be used publically.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: FIXME markers.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Fix.  - fix bug introduced in a28ad6df698b4ef20b6698a1f993019ad25bef25.

2015-07-18  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor.  - use single quotes where possible.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: FIXME marker.  - probably should be '&local_counter' not ',local_counter'.  - check later as this is written to db and if we fix here, 	we might break other stuff.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Fix bug.  - this was not introduced by my refactoring.  - LOG_ALERT message was incorrect, 	probably yy,p from counter block.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Fix bug.  - this was not introduced by my refactoring.  - LOG_ALERT for; yk_low, yk_high, nonce was written only 	if yk_use failed to be parsed.  - as a result, this commit might change LOG_ALERT output.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor away useless else { } wrap.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor away useless variable.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor.  - be explicit and declare as public, 	since we're clearly using it.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-resync.php, ykval-sync.php, ykval-verify.php: Refactor.  - getLocalParams() returns array or bool false on failure.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - str sub instead of concat.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - removed duplicate variable.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor.  - remove unnecessary else { } wrap.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor.  - str sub instead of concat

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - KSMDecryptOTP returns array or bool false on failure.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - minor improvements.  - move $ret init right before it's used.  - use string substitution rather than concatenation.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.  - adhere with some form of convetion for comments.  - use single quotes where possible.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-synclib.php: Refactor.  - retrieveURLasync() always returns FALSE on failure now, 	before it might have returned a string.  - use array_shift($a) to pop first element, 	safer than $a[0]; - this commit might affect what is written to LOG_DEBUG, 	since now we only write the YK-KSM message when we 	are certain to have a valid response.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - remove counter and use count($array) instead.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - $id never used.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - use string substitution rather than concatenation.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - $mrc never used.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - enable strict comparison for sscanf result.  - use single quotes where possible.  - styling.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Fix.  - introduced bug in 0d03c2be29d394a7a8a9c9617481f4b6a5ff0556.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - gmdate(, $x) already defaults to time()

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - unwrap getUTCTimeStamp() - use gmdate() instead of 	date_default_timezone_set('UTC') + date()

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - $status is always set in invocation, and never to null.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Cosmetic changes.  - readability.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Refactor.  - improve readability.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Remove broken link.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Cosmetic changes.  - brackets, comment blocks.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Cosmetic changes.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - use variable substitution rather than concatenation.  - use single quotes where possible.

2015-07-17  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - parse request before opening up a database connection 	and init'ing synclib.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Cosmetic changes.  - more consistency with comment style.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Cosmetic changes.  - spaces -> tabs

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Cosmetic changes.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - move further down, easier to read, but no real benefit resource
	wise.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - check for empty request first, 	before opening up syslog.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - before opening up a database connection (and init synclib), 	verify request comes from whitelisted address first.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - $apiKey is always '' and sendResp() $apiKey argument defaults to
	''

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - $allowed is easier on the eyes.  - enabled in_array(, , TRUE) for strict comparision.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Cosmetic changes.  - readability at the expense of long lines.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - merge validation into one block.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - use simple comparisons and ctype for validation, 	less resource intensive than regex.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Refactor.  - $ipaddr is easier on the eyes.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Cosmetic changes.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-sync.php, ykval-verify.php: Refactor.  - after each sendResp() we had an exit; - move exit; inside sendResp() function instead.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php, ykval-verify.php: Unwrap function.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor.  - syncServers was mostly always an array.  - change init value from NULL to array().  - simplify getNumberOfServers.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Prettify.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Prettify hash_equals.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php: Unwrap, only used here.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-db-pdo.php, ykval-db.php,
	ykval-synclib.php: Removed dead code, second try.  - grep with -i switch.  - left UnixToDbTime...  	will refactor later and unwrap to plain date() - left timestamp* methods in ykval-db, 	not used but might be useful while refactoring other code.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-db-pdo.php, ykval-db.php,
	ykval-synclib.php: Revert "Removed dead code." This reverts commit 29deb6007dd66a47ab9275687fcac140a228e404.  PHP functions are __not__ case-sensitive!

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-verify.php: Refactor.  - better grouping for validation.

2015-07-16  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-db-pdo.php, ykval-db.php,
	ykval-synclib.php: Removed dead code.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-import: Cosmetic changes.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.  - remove last remaining tabs, 	so now the whole file is using the same indentation convention.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.  - make it easier to read, 	even though we have a couple of long lines now...

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor.  - make it easier to follow what is happenining in queue().

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-db-oci.php, ykval-db-pdo.php, ykval-db.oracle.sql: Remove
	trailing whitespace.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor updateDbCounters.  - make it easier to follow what is happening.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor.  - removed unnecessary else, 	always return at end of function.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Cosmetic changes.  - use spaces where possible.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Refactor.  - remove wrapper which provides no help, 	just makes it harder to follow the code.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-sync.php: Cosmetic changes.  - remove tabs/space mix.  - use single quotes where possible.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-log.php: Cosmetic changes.  - remove mix of tabs/spaces, 	use tabs everywhere.  - remove mix of double/single quotes, 	use single quotes everywhere unless $var substitution.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-checksum-clients, ykval-checksum-deactivated,
	ykval-common.php, ykval-db-oci.php, ykval-db-pdo.php, ykval-db.php,
	ykval-export, ykval-export-clients, ykval-log.php,
	ykval-munin-ksmlatency.php, ykval-munin-queuelength.php,
	ykval-munin-vallatency.php, ykval-munin-yubikeystats.php,
	ykval-nagios-queuelength.php, ykval-ping.php, ykval-queue,
	ykval-resync.php, ykval-revoke.php, ykval-sync.php,
	ykval-synchronize, ykval-synclib.php, ykval-verify.php: Drop php
	closing tags.

2015-07-15  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-config.php: Cosmetic changes.

2015-07-02  Klas Lindfors <klas@yubico.com>

	* ykval-gen-clients: add newline in help text

2015-05-28  Klas Lindfors <klali@avm.se>

	* : Merge pull request #30 from cam34/master Modify config-db.php include to check for file instead of doing a
	(fa…

2015-05-27  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump versions

2015-05-27  Klas Lindfors <klas@yubico.com>

	* NEWS: NEWS for 2.29

2015-05-20  Klas Lindfors <klali@avm.se>

	* : Merge pull request #29 from jschauma/master use https URL to allow anonymous cloning

2015-04-14  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Reduce argument passing.  - set curlopts directly in wrapper invocation.

2015-04-14  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-synclib.php: Set __YKVAL_SYNC_CURL_OPTS__ for resync
	requests.  - Ensure sync/resync requests set the same curl options.  - This changes a debug message from "url is " to 	"YK-VAL resync adding URL: " - curlopts is now a property of SyncLib class.  	Removes duplication between sync/resync code.

2015-04-14  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-config.php: Have enough rope to hang
	yourself.  - Don't be overly strict, 	and allow users to hang themselves in they want to.

2015-04-13  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-common.php, ykval-config.php, ykval-synclib.php,
	ykval-verify.php: Allowed certain cURL options to be configurable.  - When calling either URLs in the sync pool or the KSMs,     the following curl options are configurable;     CURLOPT_PROTOCOLS     CURLOPT_IPRESOLVE     CURLOPT_SSLVERSION     CURLOPT_SSL_VERIFYPEER     CURLOPT_SSL_VERIFYHOST     CURLOPT_CAINFO     CURLOPT_CAPATH

2015-04-13  Jean Paul Galea <jeanpaul@yubico.com>

	* ykval-config.php: Removed php closing tag.  - Considered a best practice, 	avoids the possibility of introducing whitespace after the closing
		tag.

2015-02-24  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/Installation.adoc: Added .conf extension to Apache config
	files.  Required in Apache 2.4. Supported in Apache 2.2.

2015-02-11  Klas Lindfors <klas@yubico.com>

	* .travis.yml: travis doesn't have php 5.2 anymore

2015-02-11  Klas Lindfors <klas@yubico.com>

	* : commit f02d5c250cf94be583f20e919b494947d5c3725b Author: Klas
	Lindfors <klas@yubico.com> Date:   Wed Feb 11 09:43:41 2015 +0100

2015-02-11  Klas Lindfors <klas@yubico.com>

	* NEWS: NEWS for 2.28

2015-01-09  Dain Nilsson <dain@yubico.com>

	* Makefile, doc/Getting_Started_Writing_Clients.adoc,
	ykval-nagios-queuelength.1, ykval-nagios-queuelength.php: Added link
	to upgrade.yubico.com

2015-01-09  Dain Nilsson <dain@yubico.com>

	* doc/Getting_Started_Writing_Clients.adoc: Added link to
	upgrade.yubico.com

2014-11-26  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/Installation.adoc: Update Installation.adoc

2014-10-30  Dain Nilsson <dain@yubico.com>

	* Makefile: Fix doc/* names in Makefile.

2014-10-29  Dain Nilsson <dain@yubico.com>

	* doc/Installation.adoc: Fix __VARIABLE_NAMES__.

2014-10-29  Dain Nilsson <dain@yubico.com>

	* doc/ClientInfoFormat.adoc, doc/Client_Info_Format.adoc,
	doc/GeneratingClients.adoc, doc/Generating_Clients.adoc,
	doc/GettingStartedWritingClients.adoc,
	doc/Getting_Started_Writing_Clients.adoc,
	doc/ImportExportData.adoc, doc/Import_Export_Data.adoc,
	doc/Installation.adoc, doc/MakeRelease.adoc, doc/Make_Release.adoc,
	doc/MuninProbes.adoc, doc/Munin_Probes.adoc,
	doc/RevocationService.adoc, doc/Revocation_Service.adoc,
	doc/ServerReplicationProtocol.adoc,
	doc/Server_Replication_Protocol.adoc, doc/SyncMonitor.adoc,
	doc/Sync_Monitor.adoc, doc/Troubleshooting.adoc,
	doc/ValidationProtocolV20.adoc, doc/ValidationServerAlgorithm.adoc,
	doc/Validation_Protocol_V2.0.adoc,
	doc/Validation_Server_Algorithm.adoc, doc/YubiKeyInfoFormat.adoc,
	doc/YubiKey_Info_Format.adoc,
	doc/legacy/ValidationProtocolV10.adoc,
	doc/legacy/ValidationProtocolV11.adoc,
	doc/legacy/Validation_Protocol_V1.0.adoc,
	doc/legacy/Validation_Protocol_V1.1.adoc: Improved asciidoc
	formatting

2014-10-29  Henrik Stråth <henrik@yubico.com>

	* README.adoc: symlinked README

2014-10-29  Henrik Stråth <minisu@users.noreply.github.com>

	* README: Update README

2014-10-14  Klas Lindfors <klas@yubico.com>

	* ykval-munin-queuelength.php: refactor queuelength munin graph to
	show individual values as an AREASTACK graph.

2014-09-27  Dain Nilsson <dain@yubico.com>

	* ykval-common.php, ykval-verify.php: Use constant time string
	comparisson for validating HMAC signature (fixes #26).

2014-09-25  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump versions

2014-09-25  Klas Lindfors <klas@yubico.com>

	* NEWS: release version 2.27

2014-09-25  Klas Lindfors <klas@yubico.com>

	* NEWS: NEWS for ykval-munin-ksmresponses

2014-09-25  Klas Lindfors <klas@yubico.com>

	* Makefile: install ykval-munin-ksmresponses.pl

2014-09-25  Klas Lindfors <klas@yubico.com>

	* ykval-munin-responses.pl: change to use variable file handle
	instead of bare-word

2014-09-25  Klas Lindfors <klas@yubico.com>

	* ykval-munin-ksmresponses.pl: add munin plugin for parsing out
	ksmresponses

2014-09-24  Simon Josefsson <simon@josefsson.org>

	* NEWS: Doc fix.

2014-09-24  Simon Josefsson <simon@josefsson.org>

	* BLURB, README: Doc fix.

2014-09-24  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/GettingStartedWritingClients.adoc: Fixed broken link in docs.

2014-09-24  Klas Lindfors <klas@yubico.com>

	* ykval-munin-responses.pl: take logfile from env if set, default to
	/var/log/syslog

2014-09-24  Simon Josefsson <simon@josefsson.org>

	* ykval-sync.php, ykval-synclib.php: Drop log level of useless
	messages.

2014-09-24  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump version

2014-09-24  Klas Lindfors <klas@yubico.com>

	* NEWS: NEWS for 2.26

2014-09-23  Klas Lindfors <klas@yubico.com>

	* ykval-log.php: make sure that we only log strings

2014-09-23  Simon Josefsson <simon@josefsson.org>

	* ykval-checksum-clients, ykval-checksum-deactivated: Optimize.
	From Klas.

2014-09-23  Klas Lindfors <klas@yubico.com>

	* Makefile, ykval-export-clients.1, ykval-export.1,
	ykval-import-clients.1, ykval-import.1, ykval-sync.php,
	ykval-synclib.php: change wiki links

2014-09-23  Klas Lindfors <klas@yubico.com>

	* doc/ClientInfoFormat.adoc: add ClientInfoFormat from the wiki

2014-09-23  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: move some logging in reSync() to LOG_DEBUG this is only run from ykval-queue fixes #24

2014-09-23  Klas Lindfors <klas@yubico.com>

	* ykval-common.php: raise logging on KSM response

2014-09-18  Henrik Stråth <minisu@users.noreply.github.com>

	* : Merge pull request #25 from vkarlsen/master Specified that the API key has to be base64decoded

2014-09-12  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump versions after release

2014-08-27  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: again try to fix up the travis run for postfix

2014-08-27  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: try to check if postgres is running on travis there seems to be issues where the postgres service isn't started
	when our tests are run, would this help?

2014-08-27  Klas Lindfors <klas@yubico.com>

	* Makefile: fixup installation of documents since they moved from .wiki extension to .adoc also add more
	documents to be installed fixes #23

2014-08-18  Henrik Stråth <minisu@users.noreply.github.com>

	* NEWS: Update NEWS

2014-08-18  Henrik Stråth <minisu@users.noreply.github.com>

	* NEWS: Updated NEWS for 2.25 release

2014-08-18  Henrik Stråth <minisu@users.noreply.github.com>

	* .gitmodules: Deleted .gitmodules

2014-08-14  Klas Lindfors <klas@yubico.com>

	* doc/GeneratingClients.adoc,
	doc/GettingStartedWritingClients.adoc, doc/ImportExportData.adoc,
	doc/Installation.adoc, doc/MakeRelease.adoc, doc/MuninProbes.adoc,
	doc/RevocationService.adoc, doc/ServerReplicationProtocol.adoc,
	doc/SyncMonitor.adoc, doc/Troubleshooting.adoc,
	doc/ValidationServerAlgorithm.adoc, doc/YubiKeyInfoFormat.adoc: 
	fixup formatting

2014-08-13  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/GettingStartedWritingClients.adoc: Update
	GettingStartedWritingClients.adoc

2014-08-12  Klas Lindfors <klas@yubico.com>

	* Makefile, README: drop mentions of submodules

2014-08-12  Klas Lindfors <klas@yubico.com>

	* doc/ValidationProtocolV20.adoc: add header option to all tables

2014-08-12  Klas Lindfors <klas@yubico.com>

	* doc/ValidationProtocolV20.adoc: add header option for tables

2014-08-12  Henrik Stråth <henrik.strath@gmail.com>

	* doc/ValidationProtocolV20.adoc: Stricter Asciidoc, that now works
	on opensource.yubico.com as well

2014-08-11  Henrik Stråth <henrik.strath@gmail.com>

	* doc/ValidationProtocolV10.adoc, doc/ValidationProtocolV11.adoc,
	doc/legacy/ValidationProtocolV10.adoc,
	doc/legacy/ValidationProtocolV11.adoc: Restructured legacy docs

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/ValidationProtocolV20.adoc: Update ValidationProtocolV20.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/ValidationProtocolV20.adoc: Update ValidationProtocolV20.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/ValidationProtocolV20.adoc: Update ValidationProtocolV20.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/ValidationProtocolV20.adoc: Update ValidationProtocolV20.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/ValidationProtocolV20.adoc: Update ValidationProtocolV20.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/YubiKeyInfoFormat.adoc: Update YubiKeyInfoFormat.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/ClientInfoFormat.adoc: Delete ClientInfoFormat.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/YubiKeyInfoFormat.adoc: Update YubiKeyInfoFormat.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/MakeRelease.adoc: Update MakeRelease.adoc

2014-08-11  Henrik Stråth <minisu@users.noreply.github.com>

	* doc/ClientInfoFormat.adoc: Update ClientInfoFormat.adoc

2014-08-11  Henrik Stråth <henrik.strath@gmail.com>

	* doc, doc/ClientInfoFormat.adoc, doc/GeneratingClients.adoc,
	doc/GettingStartedWritingClients.adoc, doc/ImportExportData.adoc,
	doc/Installation.adoc, doc/MakeRelease.adoc, doc/MuninProbes.adoc,
	doc/RevocationService.adoc, doc/ServerReplicationProtocol.adoc,
	doc/SyncMonitor.adoc, doc/Troubleshooting.adoc,
	doc/ValidationProtocolV10.adoc, doc/ValidationProtocolV11.adoc,
	doc/ValidationProtocolV20.adoc, doc/ValidationServerAlgorithm.adoc,
	doc/YubiKeyInfoFormat.adoc: removed submodule

2014-06-26  Klas Lindfors <klas@yubico.com>

	* .travis.yml: add php 5.6 for travis

2014-02-19  Klas Lindfors <klas@yubico.com>

	* BLURB: add BLURB

2014-01-07  Klas Lindfors <klas@yubico.com>

	* ykval-synchronize, ykval-synclib.php: always verify ssl peer fixes #15

2013-12-20  Klas Lindfors <klas@yubico.com>

	* .travis.yml: drop travis again.. apparently hhvm doesn't support
	-B which we use

2013-12-20  Klas Lindfors <klas@yubico.com>

	* .travis.yml: add hhvm to travis will this work?

2013-11-11  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: skip the test of gen-client since that breaks
	on php 5.2

2013-11-11  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: add output on failure

2013-11-11  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: fix interpreter for scripts in test

2013-11-11  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: run a validation with non-existing client

2013-11-11  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: test generating a new client as well

2013-11-11  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: run the export commands

2013-11-08  Simon Josefsson <simon@josefsson.org>

	* tests/DbTest.php, tests/syncLibTest.php, tests/test-multi.php: 
	Drop obsolete tests/.

2013-11-08  Klas Lindfors <klas@yubico.com>

	* .travis.yml: more php versions for the tests

2013-11-08  Klas Lindfors <klas@yubico.com>

	* .travis.yml: start with older php version

2013-11-08  Klas Lindfors <klas@yubico.com>

	* travis/selftest.sh: actually start the server component

2013-11-08  Klas Lindfors <klas@yubico.com>

	* .travis.yml, travis/selftest.sh, travis/server.pl: add travis ci
	for yubikey-val

2013-10-16  Klas Lindfors <klas@yubico.com>

	* ykval-common.php: let the ksm decrypt function always call
	retrieveUrlAsync() fixes #12

2013-09-18  Simon Josefsson <simon@josefsson.org>

	* NEWS: Version 2.24.

2013-09-18  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS, README: Improve README and include in tarball.

2013-09-18  Simon Josefsson <simon@josefsson.org>

	* doc: Bump.

2013-07-03  Klas Lindfors <klas@yubico.com>

	* ykval-db-oci.php: add license to ykval-db-oci.php

2013-06-11  Dain Nilsson <dain@yubico.com>

	* NEWS, ykval-gen-clients: Remove space after comma in csv output.

2013-04-19  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix make release output.

2013-04-19  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix check for YUBICO_GITHUB_REPO.

2013-04-17  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS: Bump version.

2013-04-17  Simon Josefsson <simon@josefsson.org>

	* NEWS: Version 2.23.

2013-04-17  Simon Josefsson <simon@josefsson.org>

	* Makefile: Add license to Makefile.

2013-04-17  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-common.php, ykval-config.php, ykval-sync.php,
	ykval-verify.php: Use LF as EOL consistently.

2013-04-17  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2013-04-10  Dain Nilsson <dain@yubico.com>

	* Makefile: Updated release publishing.

2013-03-12  Dain Nilsson <dain@yubico.com>

	* Makefile, NEWS: Updated version number to (unreleased) 2.23

2013-03-12  Dain Nilsson <dain@yubico.com>

	* ykval-checksum-clients, ykval-checksum-deactivated, ykval-export,
	ykval-export-clients, ykval-gen-clients, ykval-import,
	ykval-import-clients, ykval-synchronize: Removed empty line from
	output.

2013-03-12  Dain Nilsson <dain@yubico.com>

	* NEWS: Version 2.22

2013-03-12  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: Log query for POST requests too.

2013-03-12  Dain Nilsson <dain@yubico.com>

	* doc: Updated docs.

2013-03-12  Dain Nilsson <dain@yubico.com>

	* Makefile, ykval-gen-clients.1: Added ykval-gen-clients.1

2013-03-12  Dain Nilsson <dain@yubico.com>

	* ykval-gen-clients: ykval-gen-clients -h does not include db
	config.

2013-03-12  Dain Nilsson <dain@yubico.com>

	* Makefile: Added ykval-gen-clients to Makefile.

2013-03-11  Dain Nilsson <dain@yubico.com>

	* NEWS, ykval-gen-clients: Added ykval-gen-clients (fixes #7)

2013-03-05  Dain Nilsson <dain@yubico.com>

	* doc: Updated doc (fixes #5).

2013-02-13  Dain Nilsson <dain@yubico.com>

	* Makefile: Added ykval-synchronize to Makefile.

2013-02-13  Dain Nilsson <dain@yubico.com>

	* ykval-synchronize.1: Added man page for ykval-synchronize.

2013-02-13  Dain Nilsson <dain@yubico.com>

	* doc: Updated doc.

2013-02-13  Dain Nilsson <dain@yubico.com>

	* Makefile: Updated version in Makefile.

2013-02-13  Dain Nilsson <dain@yubico.com>

	* NEWS: Updated NEWS.

2013-02-13  Dain Nilsson <dain@yubico.com>

	* ykval-config.php: Default to allow the same IPs for resync as for
	sync.

2013-02-13  Dain Nilsson <dain@yubico.com>

	* ykval-sync.php: Nitpicking

2013-02-12  Dain Nilsson <dain@yubico.com>

	* ykval-synchronize: Added script for invoking ykval-resync.php.

2013-02-12  Dain Nilsson <dain@yubico.com>

	* ykval-resync.php: Added full resync by sending yk=all.

2013-02-05  Dain Nilsson <dain@yubico.com>

	* NEWS: Updated NEWS for 2.21 release.

2013-02-05  Dain Nilsson <dain@yubico.com>

	* Makefile, NEWS: Changed release format of NEWS for consistency.

2013-02-04  Dain Nilsson <dain@yubico.com>

	* COPYING, ykval-checksum-clients, ykval-checksum-deactivated,
	ykval-common.php, ykval-config.php, ykval-db-pdo.php, ykval-db.php,
	ykval-export, ykval-export-clients, ykval-import,
	ykval-import-clients, ykval-log.php, ykval-munin-ksmlatency.php,
	ykval-munin-queuelength.php, ykval-munin-responses.pl,
	ykval-munin-vallatency.php, ykval-munin-yubikeystats.php,
	ykval-ping.php, ykval-queue, ykval-resync.php, ykval-revoke.php,
	ykval-sync.php, ykval-synclib.php, ykval-verify.php: Updated
	copyright headers.

2013-02-04  Dain Nilsson <dain@yubico.com>

	* doc, ykval-sync.php, ykval-synclib.php: Updated references to old
	Google Code project.

2013-01-31  Dain Nilsson <dain@yubico.com>

	* NEWS, ykval-db-pdo.php: Fixed problems when no current result
	exists.

2013-01-31  Dain Nilsson <dain@yubico.com>

	* Makefile, NEWS: Updated NEWS and Makefile post 2.20 release.

2013-01-31  Dain Nilsson <dain@yubico.com>

	* Makefile: Added quoting of versions for Jekyll

2013-01-31  Dain Nilsson <dain@yubico.com>

	* NEWS: Updated NEWS for 2.20

2013-01-31  Dain Nilsson <dain@yubico.com>

	* doc: Updated doc.

2013-01-30  Dain Nilsson <dain@yubico.com>

	* NEWS: Updated NEWS.

2013-01-30  Dain Nilsson <dain@yubico.com>

	* Makefile: Made releases go to GitHub.

2013-01-30  Dain Nilsson <dain@yubico.com>

	* README: Updated README

2013-01-30  Dain Nilsson <dain@yubico.com>

	* doc: Updated doc.

2013-01-30  Dain Nilsson <dain@yubico.com>

	* Makefile, ykval-checksum-clients.1, ykval-checksum-deactivated.1,
	ykval-export-clients.1, ykval-export.1, ykval-import-clients.1,
	ykval-import.1, ykval-queue.1: Added man pages.

2013-01-30  Dain Nilsson <dain@yubico.com>

	* ykval-import, ykval-import-clients: Basic handling of #comments
	and empty lines in import tools.

2013-01-29  Dain Nilsson <dain@yubico.com>

	* Makefile, ykval-checksum-clients, ykval-checksum-clients.php,
	ykval-checksum-deactivated, ykval-checksum-deactivated.php,
	ykval-export, ykval-export-clients, ykval-export-clients.php,
	ykval-export.php, ykval-import, ykval-import-clients,
	ykval-import-clients.php, ykval-import.php, ykval-queue,
	ykval-queue.php: Removed file extensions of executables.

2013-01-29  Dain Nilsson <dain@yubico.com>

	* NEWS, ykval-queue.php: Removed System_Daemon.

2013-01-29  Dain Nilsson <dain@yubico.com>

	* ykval-munin-responses.pl: Made ykval-munin-responses use
	/var/log/syslog.

2013-01-28  Dain Nilsson <dain@yubico.com>

	* NEWS: Updated NEWS file.

2013-01-28  Dain Nilsson <dain@yubico.com>

	* ykval-export-clients.php, ykval-export.php,
	ykval-import-clients.php, ykval-import.php: Switched import/export
	scripts to use comma separation instead of tabs.

2013-01-28  Dain Nilsson <dain@yubico.com>

	* doc: Removed reference to yubikey-val-server-php in doc.

2013-01-28  Dain Nilsson <dain@yubico.com>

	* Makefile, ykval-config.php: Made ykval-config.php work out of the
	box.

2013-01-28  Dain Nilsson <dain@yubico.com>

	* README: Updated path to wiki in README

2013-01-28  Dain Nilsson <dain@yubico.com>

	* NEWS: Updated NEWS with path changes.

2013-01-28  Dain Nilsson <dain@yubico.com>

	* .gitmodules: Updated remote of doc submodule.

2013-01-28  Dain Nilsson <dain@yubico.com>

	* Makefile, doc, ykval-checksum-clients.php,
	ykval-checksum-deactivated.php, ykval-export-clients.php,
	ykval-export.php, ykval-import-clients.php, ykval-import.php,
	ykval-munin-ksmlatency.php, ykval-munin-queuelength.php,
	ykval-munin-vallatency.php, ykval-munin-yubikeystats.php: Use
	yubikey-val instead of ykval in paths, configuration in
	/etc/yubico/val

2013-01-24  Dain Nilsson <dain@yubico.com>

	* Makefile, NEWS: Added ChangeLog generation using git2cl.

2012-08-22  Klas Lindfors <klas@yubico.com>

	* Makefile, ykval-checksum-deactivated.php: script for checksumming
	deactivated YubiKeys

2012-08-22  Klas Lindfors <klas@yubico.com>

	* ykval-munin-yubikeystats.php, ykval-resync.php: mend things broken
	after db rewrite merge.

2012-08-21  Klas Lindfors <klas@yubico.com>

	* ykval-munin-ksmlatency.php, ykval-munin-responses.pl,
	ykval-munin-vallatency.php: newer munin uses variables in the plugin
	instead of the filename to determine graph name, make them
	consistent.

2012-07-05  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump versions post-release

2012-07-05  Klas Lindfors <klas@yubico.com>

	* NEWS: release 2.19

2012-07-05  Klas Lindfors <klas@yubico.com>

	* NEWS: NEWS for db rewrite

2012-07-05  Klas Lindfors <klas@yubico.com>

	* : commit 0c62692871d8034626d38924a6339310f467d93d Author: Klas
	Lindfors <klas@yubico.com> Date:   Wed Jul 4 13:35:25 2012 +0200

2012-06-29  Klas Lindfors <klas@yubico.com>

	* Makefile: add resync.php to Makefile

2012-06-29  Klas Lindfors <klas@yubico.com>

	* ykval-munin-yubikeystats.php: add 'as count' to sql to get it
	working on mysql

2012-06-29  Klas Lindfors <klas@yubico.com>

	* ykval-db-pdo.php: do $res->rowCount() instead of
	count($res->fetchAll()) this time for the pdo code on oracle branch.

2012-06-29  Klas Lindfors <klas@yubico.com>

	* : commit c4a6fdfc9da32718777428fa984cd9fb07f84808 Author: Klas
	Lindfors <klas@yubico.com> Date:   Fri Jun 29 09:52:39 2012 +0200

2012-06-28  Remi Mollon <remi.mollon@cern.ch>

	* ykval-checksum-clients.php, ykval-db-pdo.php,
	ykval-export-clients.php, ykval-export.php, ykval-synclib.php: 
	getRowValue is not needed anymore

2012-06-28  Remi Mollon <remi.mollon@cern.ch>

	* ykval-db-oci.php: fix Oracle query in findByMultiple + getRowValue
	is not needed anymore

2012-06-18  Fredrik Thulin <fredrik@yubico.com>

	* ykval-config.php: Add __YKRESYNC_IPS__ to template.

2012-06-18  Fredrik Thulin <fredrik@yubico.com>

	* ykval-munin-yubikeystats.php: init

2012-06-18  Fredrik Thulin <fredrik@yubico.com>

	* ykval-resync.php: init

2012-06-18  Fredrik Thulin <fredrik@yubico.com>

	* ykval-sync.php: Less verbose logging when verifying remote IP.

2012-06-15  Klas Lindfors <klas@yubico.com>

	* ykval-export-clients.php, ykval-export.php: with postgres the bool
	active is returned as a php bool that's casted to a string gives 1 when true and empty string when
	false.. cast to an int to get 1 and 0.

2012-06-15  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump versions post-release

2012-06-15  Klas Lindfors <klas@yubico.com>

	* : commit 38185be07d587864b7d9d29c7403a748abc66042 Author: Fredrik
	Thulin <fredrik@yubico.com> Date:   Fri Jun 15 11:59:42 2012 +0200

2012-06-15  Fredrik Thulin <fredrik@yubico.com>

	* : commit 69ec7da1769aa8126cb1b5e052e699287b0ad56b Author: Klas
	Lindfors <klas@yubico.com> Date:   Fri Jun 15 10:50:39 2012 +0200

2012-06-15  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: rollback to 2.17

2012-06-15  Klas Lindfors <klas@yubico.com>

	* Makefile: add munin pluin to MUNIN so it's included in tar

2012-06-15  Klas Lindfors <klas@yubico.com>

	* Makefile: actually install the responses munin check

2012-06-15  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump versions post-release

2012-06-15  Klas Lindfors <klas@yubico.com>

	* NEWS: NEWS for 2.17

2012-06-15  Klas Lindfors <klas@yubico.com>

	* ykval-munin-responses.pl: simple munin plugin for response types

2012-06-14  Klas Lindfors <klas@yubico.com>

	* : commit 9ac5741e6c6ee369c2213e0fd34a7929180a9523 Author: Klas
	Lindfors <klas@yubico.com> Date:   Thu Jun 14 16:44:19 2012 +0200

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-common.php, ykval-revoke.php: Make logdie() take logger as
	argument.

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-verify.php: Change protocol version logging to 'debug'.

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-common.php, ykval-verify.php: Get rid of debug() - use
	log_format() for the formatting part.

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-synclib.php: Remove now unused retrieveURLasync_old()

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* : commit c8e9eb828f85e0a5a54727bc99560cea5aafa381 Author: Fredrik
	Thulin <fredrik@yubico.com> Date:   Thu Jun 14 15:19:04 2012 +0200

2012-06-14  Klas Lindfors <klas@yubico.com>

	* ykval-common.php, ykval-sync.php, ykval-verify.php: instead of
	passing context to sendResp, give it a logger.

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-common.php: minor debug log fixes

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* : commit 01969a279e54baa4be63610490d17163249aee84 Author: Klas
	Lindfors <klas@yubico.com> Date:   Thu Jun 14 14:55:50 2012 +0200

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-synclib.php: Use retrieveURLasync in ykval-common instead.

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-common.php: retrieveURLasync: logging using ident string

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-common.php: retrieveURLasync: cater for the last need in
	ykval-synclib.

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-common.php: retrieveURLasync: make timeout an argument

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-common.php: Move de-arraying out of retrieveURLasync.

2012-06-14  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: if the remote sync site says BAD_OTP log and
	remove from queue

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-sync.php: Restore responding BAD_OTP if YubiKey is disabled.  It seems that we might get into problems if responding OK - the
	other sync client validation server would think we approved of the
	OTP.

2012-06-14  Klas Lindfors <klas@yubico.com>

	* : commit b5849acef1fabc4de679a98f827009771eff2244 Merge: cb0de9d
	6dd5501 Author: Fredrik Thulin <fredrik@yubico.com> Date:   Thu Jun
	14 13:01:10 2012 +0200

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-config.php: Add __YKREV_IPS__ to template.

2012-06-14  Klas Lindfors <klas@yubico.com>

	* ykval-db-oci.php: lowercase columns from oracle, we use lower
	everywhere.

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-sync.php: Don't refuse sync for disabled YubiKeys.  It is better to consume any OTPs produced by a YubiKey, so if - for
	some reason - another validation server has accepted an OTP we'd
	better bump our counter values accordingly.

2012-06-14  Fredrik Thulin <fredrik@yubico.com>

	* ykval-db-oci.php: Check for ^oci: instead of just ^oci.

2012-06-13  Klas Lindfors <klas@yubico.com>

	* : commit 6dd55013f993f6a26b670ed7cffa4f7d61578d3d Author: Klas
	Lindfors <klas@yubico.com> Date:   Wed Jun 13 14:45:37 2012 +0200

2012-06-13  Fredrik Thulin <fredrik@yubico.com>

	* ykval-synclib.php: delete-trailing-whitespace

2012-06-13  Klas Lindfors <klas@yubico.com>

	* ykval-db.oracle.sql: 40 char nonce for oracle as well

2012-06-13  Fredrik Thulin <fredrik@yubico.com>

	* ykval-synclib.php: Don't LOG_NOTICE when remote server has seen
	latest OTP too.  This is an expected condition for many (most) validation requests
	using the asynchronous validation protocol 2.0.

2012-06-13  Fredrik Thulin <fredrik@yubico.com>

	* ykval-synclib.php: Logging improvements.

2012-06-13  Fredrik Thulin <fredrik@yubico.com>

	* ykval-sync.php: Downgrade 'Sync request unnecessarily sent' to
	INFO.  Also add comment explaining that this is not an error (and why).

2012-06-13  Klas Lindfors <klas@yubico.com>

	* : commit a41b7476ac780f7b10609221c6c4e6b171410da3 Author: Klas
	Lindfors <klas@yubico.com> Date:   Wed Jun 13 09:55:42 2012 +0200

2012-06-13  Klas Lindfors <klas@yubico.com>

	* Makefile: fix version check for this NEWS format.

2012-06-13  Klas Lindfors <klas@yubico.com>

	* NEWS: NEWS for 2.16

2012-06-13  Klas Lindfors <klas@yubico.com>

	* ykval-sync.php: if the sync request is empty, drop it as early as
	possible.

2012-06-13  Klas Lindfors <klas@yubico.com>

	* ykval-export-clients.php: change ] to )

2012-06-13  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: and { is needed.

2012-06-13  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: findByMultiple() calls fetchArray on it's own
	result, just loop it.

2012-06-13  Klas Lindfors <klas@yubico.com>

	* ykval-checksum-clients.php: remove $this, not in object context

2012-06-12  Fredrik Thulin <fredrik@yubico.com>

	* ykval-synclib.php: Use consistent camel-casing of function
	countersEqual().  Reduces confusion, even though PHP apparently has case insensitive
	function names.

2012-06-12  Klas Lindfors <klas@yubico.com>

	* : commit af292fbcd60e514c22192acdf4753d5bcd443e3b Author: Fredrik
	Thulin <fredrik@yubico.com> Date:   Tue Jun 12 14:50:31 2012 +0200

2012-06-12  Klas Lindfors <klas@yubico.com>

	* ykval-db-oci.php, ykval-db-pdo.php: make query protected, accessed
	from super class

2012-06-12  Klas Lindfors <klas@yubico.com>

	* ykval-db.php: remove bareword oci

2012-06-12  Fredrik Thulin <fredrik@yubico.com>

	* ykval-sync.php: More explanatory logging.

2012-06-12  Fredrik Thulin <fredrik@yubico.com>

	* : commit 929e7aedc9280bda411d3aadb83e4490699e8503 Author: Klas
	Lindfors <klas@yubico.com> Date:   Tue Jun 12 13:47:22 2012 +0200

2012-06-12  Klas Lindfors <klas@yubico.com>

	* : commit a648a3f66e1771d28d3c89aed74cf21708eef46b Author: Klas
	Lindfors <klas@yubico.com> Date:   Tue Jun 12 13:45:40 2012 +0200

2012-06-12  Klas Lindfors <klas@yubico.com>

	* ykval-db-oci.php, ykval-db-pdo.php: extends properly

2012-06-12  Klas Lindfors <klas@yubico.com>

	* ykval-db.oracle.sql: sql for initing oracle

2012-06-12  Klas Lindfors <klas@yubico.com>

	* ykval-checksum-clients.php, ykval-db-oci.php, ykval-db-pdo.php,
	ykval-db.php, ykval-export-clients.php, ykval-export.php,
	ykval-import-clients.php, ykval-import.php, ykval-revoke.php,
	ykval-synclib.php: more oracle compatibility

2012-06-12  Klas Lindfors <klas@yubico.com>

	* ykval-checksum-clients.php, ykval-config.php, ykval-export.php,
	ykval-import.php, ykval-synclib.php, ykval-verify.php: rest of
	oracle patches from Remi Mollon <Remi.Mollon@cern.ch>

2012-06-12  Klas Lindfors <klas@yubico.com>

	* ykval-db-oci.php, ykval-db-pdo.php, ykval-db.php: start work on
	integrating oracle patches from Remi Mollon <Remi.Mollon@cern.ch>

2012-06-12  Klas Lindfors <klas@yubico.com>

	* .gitignore: ignore release artifacts

2012-06-11  Klas Lindfors <klas@yubico.com>

	* : commit 4337fd13df86330f8d70660b1fcddd53bad22c66 Author: Klas
	Lindfors <klas@yubico.com> Date:   Mon Jun 11 12:50:57 2012 +0200

2012-06-11  Klas Lindfors <klas@yubico.com>

	* ykval-synclib.php: use one curl-handle per server does connection re-use while syncing to that server

2012-05-29  Fredrik Thulin <fredrik@yubico.com>

	* ykval-sync.php: Slightly less verbose log for remote IP check.

2012-05-29  Fredrik Thulin <fredrik@yubico.com>

	* ykval-sync.php, ykval-synclib.php: Improve logging of refused sync
	requests.

2012-05-29  Fredrik Thulin <fredrik@yubico.com>

	* ykval-checksum-clients.php, ykval-common.php, ykval-config.php,
	ykval-db.php, ykval-export-clients.php, ykval-export.php,
	ykval-import-clients.php, ykval-import.php, ykval-log.php,
	ykval-ping.php, ykval-queue.php, ykval-revoke.php, ykval-sync.php,
	ykval-synclib.php, ykval-verify.php: delete-trailing-whitespace

2012-05-25  Fredrik Thulin <fredrik@yubico.com>

	* : commit 6b1e08eca81e1175ca2a0b8a9e9097ec66b02ca4 Author: Fredrik
	Thulin <fredrik@yubico.com> Date:   Fri May 25 10:58:52 2012 +0200

2012-05-24  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump versions

2012-05-24  Klas Lindfors <klas@yubico.com>

	* NEWS: NEWS for 2.15

2012-05-24  Klas Lindfors <klas@yubico.com>

	* ykval-verify.php: check if $sl or $timeout is empty, if they are
	insert default

2012-05-23  Klas Lindfors <klas@yubico.com>

	* ykval-import.php: use fgetcsv instead of fscanf, handles empty
	fields

2012-05-23  Klas Lindfors <klas@yubico.com>

	* ykval-export-clients.php, ykval-import-clients.php: add scripts
	for exporting and importing the clients

2012-05-22  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: Bump version

2012-05-22  Klas Lindfors <klas@yubico.com>

	* NEWS: News for 2.14

2012-05-22  Klas Lindfors <klas@yubico.com>

	* : commit 3de7ca3c8b3e8706867c8b0571008f3e02432e42 Author: Klas
	Lindfors <klas@yubico.com> Date:   Tue May 22 13:15:25 2012 +0200

2012-05-22  Fredrik Thulin <fredrik@yubico.com>

	* ykval-munin-ksmlatency.php, ykval-munin-vallatency.php: Detect
	timeouts and errors in curl (such as resolver failures).

2012-05-22  Simon Josefsson <simon@josefsson.org>

	* ykval-db.php: Silence PHP warning.

2012-05-21  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-queuelength.php, ykval-synclib.php, ykval-verify.php: 
	Silence PHP warnings.

2012-05-21  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Chmod.

2012-05-16  Klas Lindfors <klas@yubico.com>

	* Makefile, NEWS: bump version

2012-05-16  Klas Lindfors <klas@yubico.com>

	* Makefile: set version to 2.13

2012-05-16  Klas Lindfors <klas@yubico.com>

	* NEWS: News for 2.13

2012-05-16  Klas Lindfors <klas@yubico.com>

	* ykval-common.php: use urldecode(http_build_request()) instead of
	looping and building request string

2012-05-16  Klas Lindfors <klas@yubico.com>

	* ykval-verify.php: build up the array to sign by taking $_GET or
	$_POST and remove the h key

2012-05-14  Klas Lindfors <klas@yubico.com>

	* ykval-checksum-clients.php: check if $argv[1] is set before trying
	to access it

2012-05-14  Klas Lindfors <klas@yubico.com>

	* ykval-checksum-clients.php: need ykval-config.php before
	ykval-db.php

2012-05-10  Klas Lindfors <klas@yubico.com>

	* NEWS: Bump version

2012-05-09  Klas Lindfors <klas@yubico.com>

	* Makefile: ange how we name the tag to be consistent with old tags

2012-05-09  Klas Lindfors <klas@yubico.com>

	* NEWS: News for 2.12

2012-05-08  Klas Lindfors <klas@yubico.com>

	* ykval-verify.php: update comment about nonce to reflect what the
	code actually does enforce

2012-05-08  Klas Lindfors <klas@yubico.com>

	* ykval-db.sql: raise nonce limit to 40 chars as that's what we say
	in the documentation

2012-02-22  Klas Lindfors <klas@yubico.com>

	* README: basic README

2012-02-22  Klas Lindfors <klas@yubico.com>

	* ykval-verify.php: fix fast or secure strings as sl move transformation of strings for sync and default values for sync
	and timeout to before sanity checking.

2012-02-22  Klas Lindfors <klas@yubico.com>

	* Makefile: make sure we have the doc submodule and that it's
	updated before we copy docs

2012-02-22  Klas Lindfors <klas@yubico.com>

	* .gitmodules, doc: adding doc from github wiki as submodule

2012-02-22  Simon Josefsson <simon@josefsson.org>

	* Makefile: change svn copying tag to git tag + push

2012-01-23  Simon Josefsson <simon@josefsson.org>

	* NEWS: Bump version.

2012-01-23  Simon Josefsson <simon@josefsson.org>

	* COPYING, Makefile: Bump version and copyright information.

2011-11-16  Simon Josefsson <simon@josefsson.org>

	* NEWS: Version 2.11.

2011-11-14  Simon Josefsson <simon@josefsson.org>

	* ykval-synclib.php: Remove rowCount entries instead, it reset the
	search result.

2011-11-14  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-synclib.php: Fix two remaining non-portable uses of
	rowCount.

2011-11-01  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS: Install non-bin PHP files with --mode 644 to avoid
	executable bit.

2011-10-31  Simon Josefsson <simon@josefsson.org>

	* NEWS: Credit.

2011-10-31  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-export.php, ykval-import.php: Reorder include's to
	allow for dbi-settings through ykval-config.php.  From Fredrik.

2011-10-31  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS: Support for DESTDIR in 'make install'.

2011-10-31  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS: Include munin scripts in tarball.

2011-10-25  Simon Josefsson <simon@josefsson.org>

	* COPYING, Makefile, NEWS: Update NEWS and release info.

2011-10-25  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php, ykval-db.php, ykval-verify.php: Tiny fixes to
	silence PHP warnings from Hiroki Nose <Hiroki_Nose@totec.co.jp>.   1. PHP Notice:  Use of undefined constant CURL_OK - assumed
	 'CURL_OK' in /usr/share/ykval/ykval-common.php on line 156 2. PHP Notice:  Undefined index: HTTPS in
	 /usr/share/ykval/ykval-verify.php on line 14 3. PHP Notice:  Undefined variable: query in
	/usr/share/ykval/ykval-db.php on line 186

2011-08-18  Simon Josefsson <simon@josefsson.org>

	* NEWS: Version 2.10.

2011-08-18  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix release rule.

2011-08-18  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS, ykval-verify.php: Don't echo (unsanitized)
	OTP/NONCE values back to client when sending error codes.  Reported
	by Paul van Empelen.

2011-05-09  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix OpenPGP key.

2011-05-09  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS, ykval-revoke.php: Support multiple IP
	authorizations in ykval-revoke.php.

2011-01-06  Simon Josefsson <simon@josefsson.org>

	* NEWS: Version 2.8.

2010-11-15  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Simplify more.

2010-11-15  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Simplify.

2010-11-15  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2010-11-15  Simon Josefsson <simon@josefsson.org>

	* Makefile: Install ykval-munin-vallatency.

2010-11-15  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-vallatency.php: Add.

2010-09-21  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS, ykval-verify.php: Support YubiKey OTPs filtered
	through a US Dvorak keyboard layout.

2010-09-12  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix version.

2010-09-12  Simon Josefsson <simon@josefsson.org>

	* NEWS: Version 2.7.

2010-09-12  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: Fix typo.

2010-09-12  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2010-09-12  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php, ykval-verify.php: Sanity check OTP variable
	before trusting it.  Reported by Ricky Zhou <ricky@fedoraproject.org>.

2010-08-22  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-verify.php: Log HTTPS status.

2010-08-22  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-common.php: Timestamp responses.

2010-08-22  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-verify.php: Timestamp requests.

2010-08-02  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS: Bump versions.

2010-08-02  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS: Version 2.6.

2010-08-02  Simon Josefsson <simon@josefsson.org>

	* NEWS: Mention queuelength plugin.

2010-08-02  Simon Josefsson <simon@josefsson.org>

	* Makefile, ykval-munin-queuelength.php: Add
	ykval-munin-queuelength.php.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Reduce max-time.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Fix auto markers.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Add auto markers.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix munin plugin name.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* Makefile: Better install name.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Fix typo.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Support autoconf.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* Makefile: Install munin plugin.

2010-06-22  Simon Josefsson <simon@josefsson.org>

	* ykval-munin-ksmlatency.php: Add munin checker.

2010-06-10  Simon Josefsson <simon@josefsson.org>

	* ykval-revoke.php: MySQL does not parse 'TRUE' as a true boolean,
	use '1' instead.

2010-06-01  Simon Josefsson <simon@josefsson.org>

	* Makefile: Bump version.

2010-06-01  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2010-06-01  Simon Josefsson <simon@josefsson.org>

	* ykval-revoke.php: Don't use rowCount, it is broken.

2010-05-17  Simon Josefsson <simon@josefsson.org>

	* Makefile: Use yubico google account.

2010-05-17  Simon Josefsson <simon@josefsson.org>

	* NEWS: Version 2.5

2010-05-17  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-db.php, ykval-synclib.php: Don't use PDO rowCount
	function to get number of rows returned because that isn't portable.
	Patch from arte42.ripe in issue #7 (yubikey-val-2.1-php-rowcount.patch).

2010-05-17  Simon Josefsson <simon@josefsson.org>

	* NEWS: Fix.

2010-05-17  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-common.php: When there is only one KSM, use more
	portable code without async.  Patch from arte42.ripe in issue #7.

2010-05-17  Simon Josefsson <simon@josefsson.org>

	* NEWS, ykval-verify.php: When number of sync servers equals zero,
	set sync result to success.  Patch from arte42.ripe in issue #7.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: Don't reject on nonce error for v1.x requests.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: Permit somewhat longer nonces (think SHA1 hex).

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: Improve error checking of nonce.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* Makefile, ykval-api.html: Remove, see wiki pages instead.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* Makefile: Distribute COPYING file.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* AUTHORS, Makefile, ykval-db.php: Simplify license headers.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* COPYING: Add file.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS: Add.

2010-04-23  Simon Josefsson <simon@josefsson.org>

	* ykval-db.php, ykval-sync.php, ykval-synclib.php: Fix undefined
	warnings.  Solves Issue #8.

2010-03-16  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add dates.

2010-03-12  Simon Josefsson <simon@josefsson.org>

	* Makefile: Bump version.

2010-03-12  Simon Josefsson <simon@josefsson.org>

	* ykval-checksum-clients.php: Typo.

2010-03-12  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2010-03-12  Simon Josefsson <simon@josefsson.org>

	* ykval-checksum-clients.php: Work around PostgreSQL bug.

2010-03-12  Simon Josefsson <simon@josefsson.org>

	* Makefile: Bump version.

2010-03-12  Simon Josefsson <simon@josefsson.org>

	* Makefile: Don't overwrite live config file.

2010-03-12  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS, ykval-checksum-clients.php: Add
	ykval-checksum-clients.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix DOCS.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* Makefile: Increment version.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* Makefile: Add revoke target.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* ykval-revoke.php: Error checking.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* ykval-revoke.php: Simplify.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* ykval-revoke.php: Add.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php: More debugging.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* ykval-synclib.php: Whitespace.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php: Re-add, some duplication but needed by
	KSMdecryptOTP.

2010-02-22  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php: Remove (hopefully) unused stuff.

2010-01-30  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix dist rules.

2010-01-30  Simon Josefsson <simon@josefsson.org>

	* Makefile, NEWS: Prepare v2.1.

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-import.php: .

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-export.php: Use order by to know order of yubikeys

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-import.php: changed insert syntax to comply with postgresql

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-import.php: added '' around yk_publicname

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-import.php: changed permissions

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* Makefile: Added ykval-import

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-import.php: added

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-export.php: close result?

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-export.php: Close db after finish

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-export.php: added incudepath

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-export.php: Added include path

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* Makefile: Added ykval-export

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-export.php: Added

2010-01-25  Simon Josefsson <simon@josefsson.org>

	* ykval-synclib.php: Drop internalname.  Fix nonce.

2010-01-25  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Drop unused column.

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-sync.php: Use -1 in yk_counter etc. to indicate yubikey
	discovered in protocol

2010-01-25  Simon Josefsson <simon@josefsson.org>

	* ykval-synclib.php: Fix modified/nonce.

2010-01-25  Simon Josefsson <simon@josefsson.org>

	* ykval-synclib.php: Use -1 for non-existing YubiKey.

2010-01-25  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Add NOT NULL.

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: When new OTP is discovered, local DB is set to
	yk_counter=-1 and yk_use=-1 .

2010-01-25  Olov Danielson <olov.danielson@gmail.com>

	* ykval-otpgen.php: Removed systemtests from this lib

2010-01-20  Olov Danielson <olov.danielson@gmail.com>

	* ykval-verify.php: Corrected spelling error for replayed_request

2010-01-20  Olov Danielson <olov.danielson@gmail.com>

	* ykval-verify.php: Added otp, nonce in all responses for protocol
	>= 2.0.

2010-01-19  Olov Danielson <olov.danielson@gmail.com>

	* systemtests/setupTest.php, ykval-otpgen.php: missing require

2010-01-19  Olov Danielson <olov.danielson@gmail.com>

	* ykval-verify.php: .

2010-01-19  Olov Danielson <olov.danielson@gmail.com>

	* ykval-verify.php: In protocol versions less than 2.0, nonce needs
	to added by server. This must be done after signature is computed.

2010-01-19  Simon Josefsson <simon@josefsson.org>

	* Makefile: Fix release targets.

2010-01-19  Simon Josefsson <simon@josefsson.org>

	* NEWS: Add.

2010-01-18  Olov Danielson <olov.danielson@gmail.com>

	* systemtests/setupTest.php, ykval-otpgen.php: Added systemtest
	functionality. System tests unders systemtests/

2010-01-14  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: Fix last commit.

2010-01-14  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: Review fixes.

2010-01-14  Olov Danielson <olov.danielson@gmail.com>

	* ykval-db.php, ykval-queue.php, ykval-synclib.php: Refactored. Db
	log gets name after synclib + db now.

2010-01-14  Olov Danielson <olov.danielson@gmail.com>

	* tests/syncLibTest.php, ykval-synclib.php: refactoring. removed
	unneccessary SQL query

2010-01-14  Olov Danielson <olov.danielson@gmail.com>

	* ykval-db.php, ykval-sync.php, ykval-synclib.php, ykval-verify.php: 
	.

2010-01-14  Simon Josefsson <simon@josefsson.org>

	* ykval-log.php: Use openlog.

2010-01-14  Olov Danielson <olov.danielson@gmail.com>

	* ykval-db.php: .

2010-01-14  Olov Danielson <olov.danielson@gmail.com>

	* ykval-log.php: Log module logs log_level as well

2010-01-14  Olov Danielson <olov.danielson@gmail.com>

	* ykval-log.php, ykval-sync.php, ykval-verify.php: Added possibility
	to use custom fields in logging module. Also added client IP and otp
	in verify and sync logs.

2010-01-14  Olov Danielson <olov.danielson@gmail.com>

	* ykval-sync.php, ykval-synclib.php, ykval-verify.php: Added a few
	checks for input parameters and corrected warnings according to new
	docuemnt

2010-01-13  Olov Danielson <olov.danielson@gmail.com>

	* ykval-db.php, ykval-verify.php: .

2010-01-13  Simon Josefsson <simon@josefsson.org>

	* ykval-config.php: Use names again.

2010-01-13  Olov Danielson <olov.danielson@gmail.com>

	* ykval-sync.php, ykval-synclib.php: Corrected a few log entries

2010-01-12  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: .

2010-01-12  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: .

2010-01-12  Olov Danielson <olov.danielson@gmail.com>

	* ykval-db.php: .

2010-01-12  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: when creatin yubikey entries all values better
	be filled in

2010-01-12  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: .

2010-01-12  Olov Danielson <olov.danielson@gmail.com>

	* ykval-verify.php: .

2010-01-12  Olov Danielson <olov.danielson@gmail.com>

	* tests/DbTest.php, tests/syncLibTest.php, ykval-db.php,
	ykval-db.sql, ykval-synclib.php, ykval-verify.php: Remove ID column
	from yubikeys and queue table. Renamed and changed random_key to
	server_nonce

2010-01-11  Simon Josefsson <simon@josefsson.org>

	* ykval-queue.php: Fix startup code.

2010-01-11  Simon Josefsson <simon@josefsson.org>

	* ykval-config.php: Fix.

2010-01-11  Simon Josefsson <simon@josefsson.org>

	* ykval-config.php: fix

2010-01-11  Simon Josefsson <simon@josefsson.org>

	* ykval-config.php: Fix.

2010-01-11  Simon Josefsson <simon@josefsson.org>

	* .htaccess, Makefile: Remove .htaccess.

2010-01-11  Olov Danielson <olov.danielson@gmail.com>

	* Makefile: Removed .php on ykval-queue install

2010-01-11  Olov Danielson <olov.danielson@gmail.com>

	* ykval-queue.php: Takes path argument on commandline

2010-01-11  Simon Josefsson <simon@josefsson.org>

	* ykval-synclib.php: Cleanup.

2010-01-11  Olov Danielson <olov.danielson@gmail.com>

	* Makefile: Added queue and log

2010-01-11  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Simplify SQL.

2010-01-11  Olov Danielson <olov.danielson@gmail.com>

	* ykval-log.php: ops, ykval-log file needed as well.

2010-01-11  Olov Danielson <olov.danielson@gmail.com>

	* ykval-common.php, ykval-db.php, ykval-queue.php, ykval-sync.php,
	ykval-synclib.php, ykval-verify.php: Unified logging to use Log
	class defined in ykval-log.php which in turn uses syslog.  NOTE:
	ykval common debug function is still available but uses Log class
	aswell to actually log message.

2010-01-11  Olov Danielson <olov.danielson@gmail.com>

	* ykval-sync.php: Spelling error corrected

2010-01-11  Olov Danielson <olov.danielson@gmail.com>

	* ykval-config.php, ykval-sync.php: Only allowed sync requests from
	specified IP addresses

2010-01-10  Olov Danielson <olov.danielson@gmail.com>

	* ykval-queue.php: Added help description to sync daemon

2010-01-10  Olov Danielson <olov.danielson@gmail.com>

	* tests/DbTest.php, ykval-db.php: corrected. Rowcount acts on last
	statement result rather on db

2010-01-10  Olov Danielson <olov.danielson@gmail.com>

	* ykval-db.php, ykval-synclib.php: Added rowcount function to db

2010-01-10  Olov Danielson <olov.danielson@gmail.com>

	* ykval-config.php, ykval-daemon, ykval-db.php, ykval-queue.php,
	ykval-queuedaemon.php, ykval-synclib.php: Rewritten sync daemon to
	work in a sequential way. Now called ykval-queue.php

2010-01-08  Olov Danielson <olov.danielson@gmail.com>

	* tests/DbTest.php, tests/syncLibTest.php, ykval-config.php,
	ykval-db.php, ykval-synclib.php, ykval-verify.php: Changed to using
	PDO database connection

2010-01-08  Olov Danielson <olov.danielson@gmail.com>

	* tests/DbTest.php, tests/syncLibTest.php, ykval-daemon,
	ykval-db.php, ykval-db.sql, ykval-queuedaemon.php, ykval-sync.php,
	ykval-synclib.php, ykval-verify.php: Changed DB-names to be more
	consistent (WARNING current revision might be broken but needs to be
	submitted for multiserver test purposes)

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* test-multi.php, tests/test-multi.php: Move.

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* ykval-config.php, ykval-revoke.php: Remove.

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* Makefile: Improve.

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Simplify.

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* Makefile: fix

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* Makefile: fix

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* : rm.

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* tests/DbTest.php, tests/syncLibTest.php, ykval-synclib.php: Fix
	filename.

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* Makefile, lib/Db.php, ykval-db.php: Add install target.

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* Makefile, get-api-key/index.php, ykval-config.php, ykval-db.sql,
	ykval-getapikey.php: Remove getapikey service.

2009-12-15  Simon Josefsson <simon@josefsson.org>

	* ykval-config.php: Add comments.

2009-12-15  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: change nonce to allow alphanumeric characters

2009-12-15  Olov Danielson <olov.danielson@gmail.com>

	* ykval-db.sql: nonce introduced

2009-12-15  Olov Danielson <olov.danielson@gmail.com>

	* lib/Db.php, tests/syncLibTest.php, ykval-common.php,
	ykval-db.sql, ykval-sync.php, ykval-synclib.php, ykval-verify.php: 1. Nonce introduced in protocol. This required changes in the chain
	from client->verify->sync.  2. ykval-verify is modified a bit. It now acts more as a flow
	controller and relies on ykval-synclib to do details on DB-calls and
	counterlogic. The "system" decision making is still located in
	ykval-verify.

2009-12-08  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php, ykval-verify.php: Corrected calculation of hmac
	with extra parameters (protocol v. 2). Corrected calculation of sl
	return value (use float inside)

2009-12-08  Olov Danielson <olov.danielson@gmail.com>

	* ykval-daemon: Added sync daemon

2009-12-08  Olov Danielson <olov.danielson@gmail.com>

	* ykval-verify.php: sl parameter returned on "NOT_ENOUGH_ANSWERS"

2009-12-07  Olov Danielson <olov.danielson@gmail.com>

	* ykval-config.php, ykval-synclib.php, ykval-verify.php: Taking care
	of sl and timeout parameters in new protocol

2009-12-07  Olov Danielson <olov.danielson@gmail.com>

	* lib/Db.php, ykval-synclib.php: changed updateDbParams function to
	only update counters if they are newer than before

2009-12-07  Olov Danielson <olov.danielson@gmail.com>

	* ykval-config.php, ykval-synclib.php: .

2009-12-07  Olov Danielson <olov.danielson@gmail.com>

	* ykval-queuedaemon.php: .

2009-12-07  Olov Danielson <olov.danielson@gmail.com>

	* ykval-config.php, ykval-db.sql, ykval-queuedaemon.php,
	ykval-synclib.php: Moved config to ykval-config

2009-12-07  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: .

2009-12-07  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: iremoved echos

2009-12-07  Olov Danielson <olov.danielson@gmail.com>

	* tests/syncLibTest.php, ykval-queuedaemon.php, ykval-synclib.php: 
	Added first version of queue daemon

2009-12-04  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: fixed bug. When only partial answer were
	received, the queue delete functionality didn't work

2009-12-04  Olov Danielson <olov.danielson@gmail.com>

	* ykval-config.php: .

2009-12-04  Olov Danielson <olov.danielson@gmail.com>

	* tests/syncLibTest.php, ykval-common.php, ykval-db.sql,
	ykval-synclib.php, ykval-verify.php: Storing local param info at the
	time when verify request arrived.  Used to give correct warnings of
	wether local/remote is out of sync or not

2009-12-04  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: changed structure of info in db

2009-12-03  Olov Danielson <olov.danielson@gmail.com>

	* ykval-synclib.php: Added modified and otp parameter to sync
	requests from synclib

2009-12-02  Olov Danielson <olov.danielson@gmail.com>

	* lib/Db.php, tests/DbTest.php, tests/syncLibTest.php,
	ykval-common.php, ykval-config.php, ykval-db.sql, ykval-sync.php,
	ykval-synclib.php, ykval-verify.php: Committed first trial version
	for replication protocol.

2009-11-25  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Fix.

2009-11-25  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Add queue table.

2009-11-20  Simon Josefsson <simon@josefsson.org>

	* Makefile: Add.

2009-11-20  Simon Josefsson <simon@josefsson.org>

	* : Pull in docs from wiki.

2009-10-12  Olov Danielson <olov.danielson@gmail.com>

	* ykval-api.html: added description of request and response for
	retrieving timestamp and session counter information from the
	validation server

2009-10-08  Simon Josefsson <simon@josefsson.org>

	* ykval-api.html: Add, from yubico.com web page.

2009-10-05  Olov Danielson <olov.danielson@gmail.com>

	* ykval-common.php, ykval-verify.php: Added option to get timestamp
	and session counters in the response.  Use with verify?id=x&otp=xxx..&timestamp=1 returns timestamp, sessoncounter and session use in response

2009-09-21  Simon Josefsson <simon@josefsson.org>

	* ykval-ping.php: Add.

2009-08-31  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Make sure b64 values are compared case-sensitively.

2009-08-31  Simon Josefsson <simon@josefsson.org>

	* get-api-key/index.php: Use POST.

2009-08-31  Simon Josefsson <simon@josefsson.org>

	* ykval-config.php, ykval-db.sql, ykval-revoke.php: Add revoke
	service.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* get-api-key/index.php: Add front-end to get-api-key service.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-getapikey.php: Fix terminology.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Reorder again..

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Place notes field last.  Add notes field to
	yubikeys.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-getapikey.php: Make it work.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-getapikey.php: Silence SQL query.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Add comment to drop ykval_getapikey.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Reorder.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-getapikey.php: Don't put secret in log.  Use new OTP
	database field for OTPs.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Add otp field to clients column.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-getapikey.php: Add service to add a new api key on
	validation server.

2009-08-28  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php, ykval-config.php, ykval-db.sql,
	ykval-verify.php: Lay foundation for get-api-key service.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php, ykval-verify.php: Cleanups.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: If adding key doesn't work, it is an internal
	error.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php: Fix field names.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php: Drop removed field.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php: Don't die.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Fix comment.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-verify.php: Don't use die.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Fix.

2009-05-06  Simon Josefsson <simon@josefsson.org>

	* ykval-common.php, ykval-db.sql, ykval-verify.php: Drop chk_time.

2009-05-05  Simon Josefsson <simon@josefsson.org>

	* ykval-config.php: Fix URLs.

2009-05-04  Simon Josefsson <simon@josefsson.org>

	* common.php, config.php.sample, ping.php, verify.php,
	ykval-common.php, ykval-config.php, ykval-verify.php: Rename and
	cleanup.

2009-04-27  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Fix perms.

2009-04-27  Simon Josefsson <simon@josefsson.org>

	* config.php.sample: Align with wiki.

2009-04-27  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Create user.

2009-04-27  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Simplify SQL.

2009-04-27  Simon Josefsson <simon@josefsson.org>

	* common.php, config.php.sample, test-multi.php, verify.php: Support
	parallel queries to multiple KSMs.

2009-04-13  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: userId cannot be unique, to deal with
	auto-discovered keys.

2009-04-01  Simon Josefsson <simon@josefsson.org>

	* verify.php: Don't query twice.

2009-04-01  Simon Josefsson <simon@josefsson.org>

	* common.php, verify.php: Auto-discover yubikeys known by the ykksm.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* common.php: Don't fetch always true active field.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* common.php: Reorder high/low to match internal order.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* common.php: Reorder high/low to match internal order.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* common.php, verify.php: Always check signatures.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* verify.php: Sanity check OTP before asking KSM, to get a better
	error code.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* verify.php: Fix typo.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* .htaccess: Fix rewrite regexp.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* common.php, verify.php: Don't hard code prefix length.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Make possible to use from fresh installation.

2009-03-18  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: Simplify.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php: Curl errno/error is order dependent?!

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php: More curl debugging.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* verify.php: Reorder db query after yk-ksm query.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php: Improve debug message.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php: Add timeout for ykksm queries.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php, verify.php: More cleanups.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* index.php: Remove.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* verify_debug.php: Removed, debug logging are sent to error_log.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php: Improve debugging.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php, verify.php: Cleanup.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* AES128.php, common.php, config.php.sample, verify.php,
	yubikey.php: Use YKKSM instead of local secret.  Remove more code.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php, verify.php: Code cleanups.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php, verify.php: Use absolute timestamp tolerance as well.

2009-03-11  Simon Josefsson <simon@josefsson.org>

	* common.php, verify.php: Improve checking of OTPs.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* verify_debug.php: Update after renaming.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* AES128.php, common.php, config.php.sample, verify.php,
	yubikey.php: Make standalone.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* verify.php, verifyOTP.php: Move verifyOTP.php to verify.php.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* .htaccess: Fix CRLF.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* sign_demo.php: Removed, use demo.php from yubico-php instead.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* common.php, verifyOTP.php: Make it work.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* addKey.php, add_key.php, add_key_debug.php: Remove.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* common.php: Make getUTCTimeStamp return milliseconds too, similar
	to Java server.

2009-03-10  Simon Josefsson <simon@josefsson.org>

	* addKey.php, sign_demo.php, verifyOTP.php: Fix.

2009-02-25  Simon Josefsson <simon@josefsson.org>

	* ykval-db.sql: From yubiphpbase.

2008-12-17  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: typo fix

2008-12-17  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: print more debug info on time based otp phishing

2008-12-11  Paul Chen <chenpaul@gmail.com>

	* addKey.php: bugfix addkey

2008-12-11  Paul Chen <chenpaul@gmail.com>

	* addKey.php: Add sn

2008-12-10  Paul Chen <chenpaul@gmail.com>

	* addKey.php, sign_demo.php, verifyOTP.php: Restructure for easier
	installation

2008-12-08  Paul Chen <chenpaul@gmail.com>

	* common.php: bugfix verify otp

2008-12-08  Paul Chen <chenpaul@gmail.com>

	* sign_demo.php: bugfix verify otp

2008-12-08  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: bugfix verify otp

2008-12-08  Paul Chen <chenpaul@gmail.com>

	* sign_demo.php: bugfix sign demo

2008-12-08  Paul Chen <chenpaul@gmail.com>

	* sign_demo.php, verifyOTP.php: Chk sig when if it exists

2008-12-03  Paul Chen <chenpaul@gmail.com>

	* common.php: fine tune time per tick

2008-12-03  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: anti otp phishing

2008-12-03  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: anti otp phishing

2008-12-03  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: anti otp phishing

2008-12-03  Paul Chen <chenpaul@gmail.com>

	* common.php, verifyOTP.php: Use time stamp to prevent OTP phishing

2008-12-03  Paul Chen <chenpaul@gmail.com>

	* addKey.php: sn

2008-12-02  Paul Chen <chenpaul@gmail.com>

	* addKey.php: add sn

2008-12-02  Paul Chen <chenpaul@gmail.com>

	* addKey.php: add sn

2008-12-02  Paul Chen <chenpaul@gmail.com>

	* addKey.php: add sn

2008-12-02  Paul Chen <chenpaul@gmail.com>

	* addKey.php: bugfix add key

2008-11-29  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: Case-insensitive

2008-11-21  Paul Chen <chenpaul@gmail.com>

	* sign_demo.php: more demo

2008-11-21  Paul Chen <chenpaul@gmail.com>

	* : 1	2	common.php

2008-10-10  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: upd history on validation

2008-10-08  Paul Chen <chenpaul@gmail.com>

	* .htaccess: strip the .php extension

2008-10-08  Paul Chen <chenpaul@gmail.com>

	* common.php, sign_demo.php, verifyOTP.php: sign example

2008-10-07  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: check yubikey owner when told to

2008-09-27  Paul Chen <chenpaul@gmail.com>

	* : 107	0	addKey.php 3	99	add_key.php 5	0	add_key_debug.php 31	0
	common.php 7	0	ping.php 16	29	verifyOTP.php  create mode 100644 addKey.php  create mode 100644 add_key_debug.php  create mode 100644 ping.php

2008-09-26  Paul Chen <chenpaul@gmail.com>

	* add_key.php, common.php, verifyOTP.php: add key

2008-09-26  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: lego stackup

2008-09-24  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: loosen the client checking, will make it optional

2008-09-23  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: check signature

2008-09-23  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: resp mesgs

2008-09-22  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: Fix counter comp algo

2008-09-20  Paul Chen <chenpaul@gmail.com>

	* verifyOTP.php: Fix counter comparison

2008-09-18  Paul Chen <chenpaul@gmail.com>

	* verify.php, verifyOTP.php, verify_debug.php: Init

2008-09-17  Paul Chen <chenpaul@gmail.com>

	* index.php, verify.php: Init, experiment

2008-09-17  Paul Chen <chenpaul@gmail.com>

	* Initial directory structure.

